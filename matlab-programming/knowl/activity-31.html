<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<article class="activity project-like"><h3 class="heading">
<span class="type">Activity</span><span class="space"> </span><span class="codenumber">5.1</span><span class="period">.</span>
</h3>
<div class="para">Let's say we wanted to read the following file, which I named <code class="code-inline tex2jax_ignore">'numbers.txt'</code> on my computer (it contains a few more numbers than the previous one):</div> <div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="program"><code class="language-matlab">23.5   34.3   33.1
63.9   234.0  34.2
54.3   34.2   67.9
234.3  22.5   34.7
78.5   57.4   44.0
22.4   54.3   64.7
34.5   65.3   77.2
23.5   54.7   32.4
43.5   34.2   44.4
43.0   22.1   45.2
344.5  42.3   76.8
234.1  11.2   22.3
45.2   34.5   32.1
42.6   33.2   12.3
</code></pre></div> <div class="para">Below are some examples that use the fscanf function to read (parts of) the file. Copy this code into a script file and run it line by line (use breakpoints and the step-by-step execution feature). Before each command, try to predict what it will do.</div> <div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="program"><code class="language-matlab">fname = 'numbers.txt';
fptr = fopen(fname);  % could use 'r', but default is for reading anyway

A = fscanf(fptr, '%f', 6);        % read 6 elements into a vector A
B = fscanf(fptr, '%f', [3, 4]);   % read from where you are into a matrix
                                  % B with three rows and 4 columns (fills
                                  % up B column by column)
                                  
                                 
C = fscanf(fptr, '%f');           % read from where you are to the end of
                                  % the file, store in vector C
                                  
%C = fscanf(fptr, '%f', [3, inf]); % read from where you are to the end
                                  % of the file, store in a matrix of three
                                  % rows and as many columns as necessary
fclose(fptr);
</code></pre></div> <div class="para">Now that you have studied the above examples, how could you use <code class="code-inline tex2jax_ignore">fscanf()</code> to read all of the numbers in the file and store them in a matrix A so that the elements in A are arranged exactly as they are in the file <code class="code-inline tex2jax_ignore">'numbers.txt'</code>?</div></article><span class="incontext"><a href="script-fscanf.html#activity-31" class="internal">in-context</a></span>
</body>
</html>
